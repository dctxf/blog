---
title: Git的简单使用方法
date: 2020-03-18 16:01:32
tags: [git]
---

git 是一个 `分布式` `版本管理` 工具

<!-- more -->

## 准备工作

1. 已安装 Git 环境
   1. Mac 可使用`homebrew`进行安装
   2. Windows 可[下载官方安装包](https://git-scm.com/)进行安装
   3. Linux 使用`yum` `apt`等工具安装
2. 有 shell 工具
   1. Mac 使用自带终端或者 iterm2 都行
   2. Windows 使用 git shell
   3. Linux 使用终端

## 基本概念

### 仓库

仓库简单理解就是你的项目。每个仓库都包含你的完整代码，仓库又分为`本地仓库`和`远程仓库`

### 分支

一个项目至少包含一个分支。分支之间互不干扰。

### 工作区

已修改但为提交的文件会保留在工作区

### 暂存区

已修改并已提交的文件会保留在暂存区

### 存储区

因为没找到这个概念，暂时把`git stash`的文件存储地方叫做存储区

### 指针

你当前所在的位置

## 简单理解

其实每次 Git 变更可以看做一个点，多次变更做成了一条线（即分支），通过改变指针你可以穿越到任意一个时间点。但你只能查看不可变更。

## 简单步骤

这里分成两部分，本地仓库和远程仓库

### 本地仓库

1. 新建文件夹，即你的项目文件目录
2. 进入到目录
3. 初始化 git 项目 `git init`
4. 新增文件
5. 添加文件到暂存区`git add 文件名`
6. 提交文件`git commit -m "本次提交的描述信息"`

### 远程仓库

#### SSH 公钥配置

一般远程仓库都要配置公钥，不然每次都会让输入用户名密码

1. 先生成本地的公钥（如果本地已有，可忽略此步）`ssh-keygen -t rsa`**不要输入密码**
2. 复制公钥
3. 粘贴到对应的 git 服务商的 ssh 配置中

#### 同步代码

1. 新建项目，一般可通过 github，gitlab，gitee 等工具
2. 把本地仓库和远程仓库进行关联`git remote add 远程仓库名 远程仓库地址`
3. 推送本地代码到远程仓库`git push 远程仓库名 远程分支名`

到此一个简单的 Git 使用就算完成了

## 常见问题

### 如果远程仓库的分支已被删除，本地的关联还存在怎么办？

```
// 释放本地的远程仓库
git remote prune 远程仓库名
```

### 如果本地和远程同时初始化了仓库，怎么合并？

此时拉取代码会提示错误，是因为有两个初始点,在拉取代码的时候忽略不相关的历史记录就行了，不过合并之后要做 merge 操作

```
git pull --allow-unrelated-histories
```

## 参考资料

- [Git 教程 菜鸟教程](https://www.runoob.com/git/git-tutorial.html)
- [git 命令大全](https://gist.github.com/guweigang/9848271)
- [廖雪峰的 Git 教程](https://www.liaoxuefeng.com/wiki/896043488029600)
- [git 相关概念](http://www.findme.wang/share/detail/id/279.html)
